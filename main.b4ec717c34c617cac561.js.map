{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./js/notification.js","webpack:///./index.js","webpack:///./templates/gallery.hbs"],"names":["apiService","keyword","page","fetchQuery","url","this","fetch","then","data","json","hits","pageReset","newKeyword","defaultModules","set","PNotifyMobile","defaults","delay","myStack","Stack","dir1","dir2","firstpos1","firstpos2","push","maxStrategy","showMessage","error","title","sticker","stack","io","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","createGalleryMarkup","disconnect","refs","form","document","querySelector","gallery","linkArrow","articles","insertAdjacentHTML","galleryTemplate","length","classList","add","observe","lastElementChild","remove","addEventListener","event","preventDefault","query","target","elements","value","innerHTML","reset","nodeName","markup","basicLightbox","show","modalShow","dataset","source","Handlebars","module","exports","template","container","depth0","helpers","partials","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"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","file":"main.b4ec717c34c617cac561.js","sourcesContent":["const apiKey = '19710989-7d132287f37ef0bf3153ac7f1';\n\nconst apiService = {\n  keyword: '',\n  page: 1,\n\n  fetchQuery() {\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.keyword}&page=${this.page}&per_page=12&key=${apiKey}`;\n\n    return fetch(url)\n      .then(data => data.json())\n      .then(({ hits }) => {\n        this.page += 1;\n        return hits;\n      });\n  },\n\n  pageReset() {\n    this.page = 1;\n  },\n\n  set query(newKeyword) {\n    this.keyword = newKeyword;\n  },\n};\n\nexport default apiService;\n","import { error, defaultModules, Stack } from '@pnotify/core/dist/PNotify.js';\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\nimport { defaults } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\nimport '@pnotify/core/dist/BrightTheme.css';\n\ndefaultModules.set(PNotifyMobile, {});\n\ndefaults.delay = 3500;\n\nconst myStack = new Stack({\n  dir1: 'down',\n  dir2: 'right',\n  firstpos1: 25,\n  firstpos2: 25,\n  push: 'top',\n  maxStrategy: 'close',\n});\n\nconst showMessage = () => {\n  error({\n    title: 'Images not found! Try again.',\n    sticker: false,\n    stack: myStack,\n  });\n};\n\nexport default showMessage;\n","import galleryTemplate from './templates/gallery.hbs';\nimport apiService from './js/apiService.js';\nimport * as basicLightbox from 'basiclightbox';\nimport showMessage from './js/notification.js';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport './styles/style.css';\n\nconst io = new IntersectionObserver((entries, observer) => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      createGalleryMarkup();\n      observer.disconnect();\n    }\n  });\n});\nconst refs = {\n  form: document.querySelector('.search-form'),\n  gallery: document.querySelector('.gallery'),\n  linkArrow: document.querySelector('.js-arrow'),\n};\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n\n  apiService.pageReset();\n  apiService.query = event.target.elements.query.value;\n\n  createGalleryMarkup();\n\n  refs.gallery.innerHTML = '';\n  refs.form.reset();\n});\n\nrefs.gallery.addEventListener('click', event => {\n  event.preventDefault();\n\n  if (event.target.nodeName === 'IMG') {\n    modalShow(event.target.dataset.source);\n  }\n});\n\nfunction createGalleryMarkup() {\n  apiService.fetchQuery().then(articles => {\n    refs.gallery.insertAdjacentHTML('beforeend', galleryTemplate(articles));\n    checkQueryResult(articles);\n  });\n}\n\nfunction checkQueryResult(data) {\n  if (data.length === 0) {\n    showMessage();\n    refs.linkArrow.classList.add('hidden');\n  } else {\n    onObserve();\n    refs.linkArrow.classList.remove('hidden');\n  }\n}\n\nfunction modalShow(url) {\n  const markup = `<img src='${url} alt=''>`;\n  const instance = basicLightbox.create(markup);\n\n  instance.show();\n}\n\nfunction onObserve() {\n  io.observe(refs.gallery.lastElementChild);\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"list__item\\\">\\n    <a href=\\\"#\\\">\\n        <div class=\\\"photo-card\\\">\\n            <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" data-source='\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \"' alt=\\\"\\\" width=\\\"400px\\\" height=\\\"250px\\\" />\\n\\n            <div class=\\\"stats\\\">\\n                <p class=\\\"stats-item\\\">\\n                    <i class=\\\"material-icons\\\">thumb_up</i>\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\n                </p>\\n                <p class=\\\"stats-item\\\">\\n                    <i class=\\\"material-icons\\\">visibility</i>\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\n                </p>\\n                <p class=\\\"stats-item\\\">\\n                    <i class=\\\"material-icons\\\">comment</i>\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\n                </p>\\n                <p class=\\\"stats-item\\\">\\n                    <i class=\\\"material-icons\\\">cloud_download</i>\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\n                </p>\\n            </div>\\n        </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":28,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}
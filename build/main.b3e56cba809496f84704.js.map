{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./index.js","webpack:///./templates/gallery.hbs"],"names":["apiService","keyword","page","fetchQuery","url","this","fetch","then","data","json","hits","catch","error","console","log","pageReset","newKeyword","io","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","createGalleryMarkup","disconnect","refs","form","document","querySelector","gallery","linkArrow","articles","insertAdjacentHTML","galleryTemplate","observe","lastElementChild","classList","remove","addEventListener","event","preventDefault","query","target","elements","value","innerHTML","reset","nodeName","markup","basicLightbox","show","modalShow","dataset","source","Handlebars","module","exports","template","container","depth0","helpers","partials","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"2HA2BeA,MAzBI,CACjBC,QAAS,GACTC,KAAM,EAENC,aACE,MAAMC,EAAO,sEAAqEC,KAAKJ,gBAAgBI,KAAKH,0DAE5G,OAAOI,MAAMF,GACVG,KAAKC,GAAQA,EAAKC,QAClBF,KAAK,EAAGG,WACPL,KAAKH,MAAQ,EACNQ,IAERC,MAAMC,GAASC,QAAQC,IAAIF,KAGhCG,YACEV,KAAKH,KAAO,GAGd,UAAUc,GACRX,KAAKJ,QAAUe,I,gCCjBnB,MAAMC,EAAK,IAAIC,qBAAqB,CAACC,EAASC,KAC5CD,EAAQE,QAAQC,IACVA,EAAMC,iBACRC,IACAJ,EAASK,kBAITC,EAAO,CACXC,KAAMC,SAASC,cAAc,gBAC7BC,QAASF,SAASC,cAAc,YAChCE,UAAWH,SAASC,cAAc,cAuBpC,SAASL,IACPxB,EAAWG,aAAaI,KAAKyB,IAC3BN,EAAKI,QAAQG,mBAAmB,YAAaC,IAAgBF,IAgB/Df,EAAGkB,QAAQT,EAAKI,QAAQM,oBAXxBV,EAAKK,UAAUM,UAAUC,OAAO,UA3BlCZ,EAAKC,KAAKY,iBAAiB,SAAUC,IACnCA,EAAMC,iBAENzC,EAAWe,YACXf,EAAW0C,MAAQF,EAAMG,OAAOC,SAASF,MAAMG,MAE/CrB,IAEAE,EAAKI,QAAQgB,UAAY,GACzBpB,EAAKC,KAAKoB,UAGZrB,EAAKI,QAAQS,iBAAiB,QAASC,IACrCA,EAAMC,iBAEwB,QAA1BD,EAAMG,OAAOK,UAenB,SAAmB5C,GACjB,MAAM6C,EAAU,aAAY7C,YACX8C,SAAqBD,GAE7BE,OAlBPC,CAAUZ,EAAMG,OAAOU,QAAQC,W,4CCpCnC,IAAIC,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAAStD,GAC5G,IAAIuD,EAAOJ,EAAUK,OAAQC,EAAON,EAAUO,iBAAkBC,EAAiBR,EAAUQ,gBAAkB,SAASC,EAAQC,GAC1H,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,sGACHJ,EAAOF,EAAkB,MAAVH,EAAiBO,EAAeP,EAAO,gBAAkBA,EAASA,IACjF,mBACAK,EAAOF,EAAkB,MAAVH,EAAiBO,EAAeP,EAAO,iBAAmBA,EAASA,IAClF,yMACAK,EAAOF,EAAkB,MAAVH,EAAiBO,EAAeP,EAAO,SAAWA,EAASA,IAC1E,qJACAK,EAAOF,EAAkB,MAAVH,EAAiBO,EAAeP,EAAO,SAAWA,EAASA,IAC1E,kJACAK,EAAOF,EAAkB,MAAVH,EAAiBO,EAAeP,EAAO,YAAcA,EAASA,IAC7E,yJACAK,EAAOF,EAAkB,MAAVH,EAAiBO,EAAeP,EAAO,aAAeA,EAASA,IAC9E,uEACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAAStD,GAC1E,IAAIkE,EAON,OAA+R,OAAtRA,GAPsBf,EAAUQ,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWR,EAAQ,QAAQY,KAAe,MAAVb,EAAiBA,EAAUD,EAAUgB,aAAe,GAAIf,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUiB,QAAQ,EAAGpE,EAAM,GAAG,QAAUmD,EAAUkB,KAAK,KAAOrE,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiBkE,EAAS,IAC/S,SAAU,M","file":"main.b3e56cba809496f84704.js","sourcesContent":["const apiKey = '19710989-7d132287f37ef0bf3153ac7f1';\n\nconst apiService = {\n  keyword: '',\n  page: 1,\n\n  fetchQuery() {\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.keyword}&page=${this.page}&per_page=12&key=${apiKey}`;\n\n    return fetch(url)\n      .then(data => data.json())\n      .then(({ hits }) => {\n        this.page += 1;\n        return hits;\n      })\n      .catch(error => console.log(error));\n  },\n\n  pageReset() {\n    this.page = 1;\n  },\n\n  set query(newKeyword) {\n    this.keyword = newKeyword;\n  },\n};\n\nexport default apiService;\n","import galleryTemplate from './templates/gallery.hbs';\nimport apiService from './js/apiService.js';\nimport * as basicLightbox from 'basiclightbox';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport './styles/style.css';\n\nconst io = new IntersectionObserver((entries, observer) => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      createGalleryMarkup();\n      observer.disconnect();\n    }\n  });\n});\nconst refs = {\n  form: document.querySelector('.search-form'),\n  gallery: document.querySelector('.gallery'),\n  linkArrow: document.querySelector('.js-arrow'),\n};\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n\n  apiService.pageReset();\n  apiService.query = event.target.elements.query.value;\n\n  createGalleryMarkup();\n\n  refs.gallery.innerHTML = '';\n  refs.form.reset();\n});\n\nrefs.gallery.addEventListener('click', event => {\n  event.preventDefault();\n\n  if (event.target.nodeName === 'IMG') {\n    modalShow(event.target.dataset.source);\n  }\n});\n\nfunction createGalleryMarkup() {\n  apiService.fetchQuery().then(articles => {\n    refs.gallery.insertAdjacentHTML('beforeend', galleryTemplate(articles));\n\n    onObserve();\n  });\n\n  refs.linkArrow.classList.remove('hidden');\n}\n\nfunction modalShow(url) {\n  const markup = `<img src='${url} alt=''>`;\n  const instance = basicLightbox.create(markup);\n\n  instance.show();\n}\n\nfunction onObserve() {\n  io.observe(refs.gallery.lastElementChild);\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"list__item\\\">\\n    <a href=\\\"#\\\">\\n        <div class=\\\"photo-card\\\">\\n            <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" data-source='\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \"' alt=\\\"\\\" width=\\\"400px\\\" height=\\\"250px\\\" />\\n\\n            <div class=\\\"stats\\\">\\n                <p class=\\\"stats-item\\\">\\n                    <i class=\\\"material-icons\\\">thumb_up</i>\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\n                </p>\\n                <p class=\\\"stats-item\\\">\\n                    <i class=\\\"material-icons\\\">visibility</i>\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\n                </p>\\n                <p class=\\\"stats-item\\\">\\n                    <i class=\\\"material-icons\\\">comment</i>\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\n                </p>\\n                <p class=\\\"stats-item\\\">\\n                    <i class=\\\"material-icons\\\">cloud_download</i>\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\n                </p>\\n            </div>\\n        </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":28,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}